<pre>
  <code class="typescript">
    import {{'{'}} interval {{'}'}} from 'rxjs';
    import {{'{'}} finalize, take {{'}'}} from 'rxjs/operators';

    // 1秒毎にストリームを流す
    interval(1000)
      .pipe(
        map(index => `finalize(map): ${{'{'}}index + 1{{'}'}}`),
        take(3),
        finalize(() => {{'{'}}
  setTimeout(() => this.add({{'{'}} message: 'finalize!' {{'}'}}), 100);
  {{'}'}}),
      );
  </code>
</pre>

